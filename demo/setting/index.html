<!DOCTYPE html>
<html lang="ja">

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <title>設定｜三菱電機ホームソリューション ［マルチエリア空調］ Good Share！（グッシェア）｜三菱電機</title>
  <meta name="description"
    content="三菱電機ホームソリューション ［マルチエリア空調］ Good Share！（グッシェア）の機能・特長ページです。空気をシェアして、暮らしを快適にするGood Share!（グッシェア）をご紹介します。あなたにちょうどいい心地よさで、一年を通して暮らし心地を支えます。">
  <link rel="shortcut icon" type="image/x-icon" href="../assets/img/favicon/favicon.ico">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta name="format-detection" content="telephone=no">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <link rel="apple-touch-icon" href="https://www.mitsubishielectric.co.jp/shared_resp/v0006/img/apple-touch-icon.png">
  <!-- くらトク共通 -->
  <script src="../assets/vendor/jquery/jquery-3.6.0.min.js"></script>
  <!-- GoodShareデモアプリCSS/JS -->
  <link href="../assets/css/goodshare_demo_app.css" rel="stylesheet">
  <script src="../assets/js/goodshare_demo_app.js" defer></script>
  <!-- driver.js -->
  <script src="https://cdn.jsdelivr.net/npm/driver.js@latest/dist/driver.js.iife.js"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/driver.js@latest/dist/driver.css" />
</head>

<body>
  <div id="loading_overlay" class="loading_overlay">
    <div class="loading_spinner_wrap">
      <span class="loading_spinner"></span>
    </div>
  </div>
  <div class="demo_app_wrap">
    <div class="demo_app_wrap__fixed_txt">
      <div class="demo_app_wrap__fixed_txt_inr">
        実際のアプリとは仕様が異なる場合があります
      </div>
    </div>

    <!-- ヘッダー -->
    <header class="demo_app_wrap__header">
      <div class="demo_app_wrap__header_inr">
        <img id="" src="../assets/img/header_goodshare_settings.svg" alt="" usemap="#backButtonMap">
        <!-- 戻るボタン -->
        <map name="backButtonMap">
          <area shape="rect" coords="0, 22, 45, 67" href="javascript:void(0);" onclick="history.back()" alt="戻るボタン">
        </map>
      </div>
    </header>

    <!-- メイン -->
    <main>
      <!-- ベース画面 グッシェア初期設定 -->
      <img id="settingOperation01" src="../assets/img/settings.png" alt="">

      <!-- 郵便番号 -->
      <section id="btn_setting01" class="button" onclick="showImg('modalPostalCode'), showChangePostalCodeModal()">
      </section>
      <!-- 連携する環境センサー -->
      <section id="btn_setting02" class="button" onclick="popoverSensor()"></section>
      <!-- 異常時お知らせ通知 -->
      <section id="btn_setting03" class="button" onclick="showDemoAppRestrictionMessage()"></section>
      <!-- 衣類乾燥完了お知らせ通知 -->
      <section id="btn_setting04" class="button" onclick="showDemoAppRestrictionMessage()"></section>
      <!-- 常時送風設定 -->
      <section id="btn_setting05" class="button" onclick="showDemoAppRestrictionMessage()"></section>
      <!-- 空調連携時ひかえめ制御 -->
      <section id="btn_setting06" class="button" onclick="showDemoAppRestrictionMessage()"></section>

      <!-- モーダル 郵便番号 -->
      <div id="modalPostalCode" class="drawer_menu modal-container">
        <div id="modal-main" class="horizontal-center-vertical-center">
          <!-- モーダル -->
          <img id="modal-image" src="../assets/img/modal_postalcode.png" alt="">
          <!-- モーダル 決定ボタン -->
          <div id="modalOkButton" class="modal-dialog-ok"
            onclick="hideModal(this), setJsonValue('gsSettinngs.postalCode', 'postal-code_on.png')">
          </div>
          <!-- モーダル キャンセルボタン -->
          <div id="modalCancelButton" class="modal-dialog-cancel" onclick="hideModal(this)"></div>
        </div>
      </div>

      <!-- 置換パーツ 郵便番号 -->
      <img id="postalCode" class="button--hidden" alt="">
    </main>
  </div>

  <script>
    // セッションスト―レージのチェック
    document.addEventListener('DOMContentLoaded', () => {
      const jsonData = sessionStorage.getItem("demoAppData");
      // セッションストレージのJSON読み込みエラー
      if (!jsonData) {
        showAlert("E001：セッションストレージのJSONデータが見つかりません");
        return null;
      }
    })
  </script>

  <!-- 置換パーツ更新後 郵便番号 -->
  <script>
    const buttonIds = ['modalOkButton'];
    buttonIds.forEach(function (id) {
      const button = document.getElementById(id);
      if (button) {
        button.addEventListener('click', function () {
          // テキスト置換パーツ
          const targetElemen = document.getElementById('postalCode');
          const targetElementUrl = getJsonValue("baseUrl") + getJsonValue("gsSettinngs.postalCode")
          targetElemen.src = targetElementUrl;
          targetElemen.style.display = 'block'; // 必要に応じて表示する
        });
      }
    });
  </script>

  <script>
    // 郵便番号 変更ボタン
    window.addEventListener('load', () => {
      startDriverTour([
        {
          element: '#btn_setting01',
          popover: {
            title: 'グッシェア設定（郵便番号入力）',
            description: '変更ボタンをタップして郵便番号入力画面を表示させます。',
          },
        },
      ]);
    });
  </script>

  <!-- driver.js/郵便番号変更 -->
  <script>
    const showChangePostalCodeModal = () => {
      startDriverTour([
        {
          element: '#modal-main',
          popover: {
            description: 'ここでは東京都千代田区丸の内の郵便番号としています。',
          }
        },
      ]);

      // ボタンをタップするとpopoverを閉じる
      document.querySelectorAll('#modalCancelButton, #modalOkButton').forEach(button => {
        button.addEventListener('click', () => {
          closePopover();
        });
      });
    }
  </script>

</body>

</html>